<!DOCTYPE html>
<html>
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>회원 관리</title>
    <script src="/js/jquery-3.5.1.min.js"></script>

    <!--    <link rel="stylesheet" href="/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />-->
    <!--    <link href="/css/jumbotron-narrow.css" rel="stylesheet" />-->

    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" rel="stylesheet">
</head>
<body>
<div class="container">
    <div>
        <table class="table table-striped">
            <thead>
            <th>회원번호</th>
            <th>회원아이디</th>
            <th>회원이름</th>
            <th>회원이메일</th>
            </thead>
            <tbody id="list-tbody">

            </tbody>
        </table>
    </div>
</div>
<script>
    UserService = {
        getUserList: function () {
            $.ajax("/api/users")
                .done(function (res) {
                    let userList = res.content;
                    UserService.renderList(userList);
                })
            ;
        },
        renderList: function (userList) {
            let rowHtml = '';
            for (let i = 0; i < userList.length; i++) {
                rowHtml += '<tr>';
                rowHtml += '\t<td>' + userList[i].id + '</td>';
                rowHtml += '\t<td>' + userList[i].loginId + '</td>';
                rowHtml += '\t<td>' + userList[i].name + '</td>';
                rowHtml += '\t<td>' + userList[i].email + '</td>';
                rowHtml += '</tr>';
            }
            $('#list-tbody').html(rowHtml);
        }
    };

    $(document).ready(function () {
        UserService.getUserList();
    });
</script>
</body>
</html>